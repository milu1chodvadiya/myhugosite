var JSONHTML=function(){var b=["meta","img","hr","br","input","select"],c=!1;return function(){var d=this;d.parse=function(a){var b="",c=a.dom.children;a.hasOwnProperty("onBefore")&&(d.log("Has onBefore"),d.callbacks.onBefore(a));for(var e in c)b+=d.createElement(c[e]);return a.hasOwnProperty("onComplete")&&(d.log("Has onComplete"),d.callbacks.onComplete(a)),b},d.createElement=function(a){var c=d.createTag(a);if(a.hasOwnProperty("children"))for(var e in a.children)c+=d.createElement(a.children[e]);if(b.indexOf(a.tag)<0){if(a.hasOwnProperty("inner"))if(a.inner instanceof Array){var f=a.inner[0].replace(/%s/g,function(){return a.inner[1].shift()});c+=f}else c+=a.inner;c+="</"+a.tag+">"}return c},d.createTag=function(a){var b="<"+a.tag,c="";for(var d in a.attr)c=a.attr[d]instanceof Array?a.attr[d].join(" "):a.attr[d],b+=" "+d+'="'+c+'"';return b+=">"},d.callbacks={onComplete:function(a){d.executeCallback("onComplete",a)},onBefore:function(a){d.executeCallback("onBefore",a)}},d.executeCallback=function(a,b){var c=b[a];if("string"==typeof c||c instanceof String){d.log(a+" is a string");var e=window[c];"function"==typeof e&&e()}else"function"==typeof c&&(d.log(a+" is a pre set function"),c())},d.log=function(a){c&&console.log(a)}}}();